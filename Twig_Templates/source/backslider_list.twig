{% extends "fullwidth.twig" %}

{% block content %}


<script type = "text/javascript" language = "javascript">



  //Call these functions upon page load
  $(document).ready(function() {
    //Convert the main table into a data table
    $('#the_main_table').DataTable({
      "paging":   false,
      "pageLength": 69,
      "lengthMenu": [ [10, 25, 69, -1], [10, 25, 69, "All"]],
      "aaSorting": [],
      "responsive": true,
      "autoWidth": false
    });

  });


</script>

    <div class="table-responsive">
    <h3>{{pageTitle}}</h3>
    <h4>{{pageSubTitle}}</h4>
    <table class="table table-condensed table-hover" id="the_main_table">
      <thead>
        <tr>
          <th nowrap>Hasher Name</th>
          <th nowrap>Days Absent</td>
          <th nowrap>Last Hash</td>
          <th nowrap>Last Hash Date</td>
        </tr>
      </thead>
      <tbody>
        {% for item in theList %}
        {% if item.DAYS_SINCE_LAST_EVENT > 42 %}
          <tr bgcolor = "#F1A5B7">
        {% elseif item.DAYS_SINCE_LAST_EVENT > 21 %}
          <tr bgcolor = "#FBD46E">
        {% elseif item.DAYS_SINCE_LAST_EVENT > 0 %}
          <tr bgcolor = "#ADF1A5">
        {% else  %}
          <tr bgcolor = "#F1CFDF">
        {% endif %}
            <td><a href='/{{kennel_abbreviation}}/hashers/{{item.HASHER_KY}}'>{{item.HASHER_NAME}}</a></td>
            <td>{{item.DAYS_SINCE_LAST_EVENT}}</td>
            <td><a href='/{{kennel_abbreviation}}/hashes/{{item.PREVIOUS_HASH_KEY}}'>{{item.PREVIOUS_EVENT_NUMBER}}</a></td>
            <td>
              {{item.PREVIOUS_EVENT_DATE is empty ? "" : item.PREVIOUS_EVENT_DATE|date("m/d/Y")}}
            </td>
          </tr>
        {% endfor %}
    </table>
    </div>

{% endblock %}
